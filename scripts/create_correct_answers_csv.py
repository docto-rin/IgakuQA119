# %%
# E028 は五者択一だが、A or C のどちらでも正解
data = """
A001 A A051 E B026 A C026 E
A002 A A052 D B027 D C027 A
A003 D A053 C B028 D C028 E
A004 E A054 D B029 E C029 E
A005 B A055 A B030 C C030 D
A006 A A056 A B031 A C031 E
A007 E A057 C B032 B C032 BE
A008 E A058 C B033 E C033 BE
A009 D A059 A B034 E C034 AB
A010 A A060 A B035 A C035 BDE
A011 B A061 B B036 B C036 D
A012 CE A062 E B037 C C037 D
A013 CD A063 D B038 E C038 E
A014 DE A064 B B039 E C039 A
A015 A A065 C B040 A C040 C
A016 D A066 D B041 B C041 C
A017 C A067 E B042 C C042 A
A018 B A068 B B043 B C043 B
A019 D A069 E B044 D C044 B
A020 A A070 AE B045 E C045 A
A021 A A071 AE B046 E C046 A
A022 C A072 CE B047 B C047 D
A023 B A073 BE B048 E C048 C
A024 E A074 AB B049 B C049 D
A025 E A075 600 B050 B C050 C
A026 A B001 A C001 B C051 E
A027 E B002 E C002 D C052 D
A028 E B003 A C003 E C053 A
A029 D B004 B C004 D C054 C
A030 C B005 E C005 B C055 E
A031 D B006 E C006 D C056 B
A032 D B007 E C007 E C057 E
A033 C B008 E C008 D C058 AD
A034 B B009 A C009 C C059 A
A035 A B010 A C010 D C060 D
A036 E B011 E C011 E C061 B
A037 B B012 B C012 E C062 C
A038 D B013 D C013 B C063 E
A039 E B014 A C014 E C064 A
A040 A B015 E C015 E C065 B
A041 B B016 C C016 A C066 E
A042 E B017 E C017 D C067 D
A043 B B018 D C018 A C068 A
A044 E B019 D C019 D C069 E
A045 C B020 C C020 C C070 E
A046 D B021 E C021 E C071 A
A047 B B022 A C022 E C072 C
A048 E B023 B C023 D C073 A
A049 D B024 B C024 E C074 36
A050 C B025 B C025 C C075 27
D001 D D051 B E026 B F026 A
D002 B D052 A E027 D F027 A
D003 C D053 D E028 AC F028 BD
D004 B D054 C E029 B F029 AB
D005 E D055 C E030 B F030 AC
D006 C D056 D E031 E F031 AD
D007 D D057 D E032 D F032 CE
D008 B D058 E E033 C F033 AE
D009 A D059 D E034 E F034 BCE
D010 D D060 C E035 D F035 BDE
D011 D D061 C E036 E F036 D
D012 CD D062 E E037 C F037 B
D013 AB D063 B E038 C F038 E
D014 BE D064 E E039 E F039 C
D015 BCD D065 C E040 B F040 A
D016 A D066 B E041 A F041 C
D017 E D067 D E042 E F042 C
D018 E D068 D E043 C F043 A
D019 B D069 B E044 E F044 E
D020 A D070 BE E045 E F045 D
D021 C D071 BE E046 E F046 A
D022 C D072 BC E047 E F047 C
D023 E D073 BC E048 E F048 E
D024 D D074 BC E049 E F049 D
D025 C D075 ABC E050 C F050 C
D026 C E001 D F001 A F051 C
D027 B E002 C F002 A F052 A
D028 E E003 E F003 D F053 A
D029 C E004 B F004 A F054 D
D030 E E005 A F005 E F055 D
D031 C E006 A F006 E F056 BE
D032 C E007 B F007 A F057 BD
D033 D E008 D F008 A F058 BC
D034 E E009 E F009 B F059 BC
D035 B E010 A F010 B F060 DE
D036 E E011 E F011 E F061 CD
D037 D E012 E F012 D F062 C
D038 E E013 E F013 C F063 A
D039 E E014 A F014 C F064 E
D040 A E015 C F015 D F065 C
D041 C E016 E F016 B F066 CD
D042 D E017 A F017 B F067 CE
D043 E E018 D F018 C F068 C
D044 B E019 E F019 C F069 D
D045 D E020 D F020 B F070 B
D046 E E021 E F021 E F071 E
D047 E E022 A F022 B F072 B
D048 E E023 A F023 E F073 E
D049 E E024 E F024 E F074 D
D050 B E025 D F025 A F075 40
"""

# %%
import pandas as pd

# 正規表現パターンを使用して問題番号と解答のペアを抽出
pairs = []
# データを行ごとに処理
for line in data.strip().split('\n'):
    # 各行を空白で分割
    items = line.split()
    # 2つずつペアにする
    for i in range(0, len(items), 2):
        if i + 1 < len(items):
            problem_id = items[i]
            answer = items[i+1]
            pairs.append((problem_id, answer))

# データフレームを作成
df = pd.DataFrame(pairs, columns=['問題番号', '解答'])

# 問題番号を英字部分と数字部分に分割してソートするための準備
df['英字'] = df['問題番号'].str[0]
df['数字'] = df['問題番号'].str[1:].astype(int)

# 問題番号の形式を変更（ゼロ埋めをなくし、前に119を追加）
df['問題番号'] = '119' + df['英字'] + df['数字'].astype(str)

# 解答列の処理：アルファベットのみの場合は小文字に変換
def process_answer(answer):
    # 解答がアルファベットのみで構成されているか確認
    if answer.isalpha():
        return answer.lower()
    return answer

# 解答列に適用
df['解答'] = df['解答'].apply(process_answer)

# 英字部分と数字部分でソート
df_sorted = df.sort_values(by=['英字', '数字'])

# ソート用の列を削除
result_df = df_sorted[['問題番号', '解答']]

# 結果を表示
print(result_df.head(10))

# CSVファイルとして保存
result_df.to_csv('results/correct_answers.csv', index=False)

# %%



